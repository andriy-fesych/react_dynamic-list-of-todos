(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{16:function(e,t,c){},17:function(e,t,c){},18:function(e,t,c){},20:function(e,t,c){},21:function(e,t,c){"use strict";c.r(t);var s=c(9),n=c.n(s),r=c(10),a=c(6),i=c(2),o=c(3),l=c.n(o),d=c(1),u=c.n(d),j=(c(16),c(17),c(18),c(8)),b=c.n(j),h=c(0),p=u.a.memo((function(e){var t=e.todos,c=e.setUser,s=e.selectedUserId;return Object(h.jsxs)("div",{className:"TodoList",children:[Object(h.jsx)("h2",{children:"Todos:"}),Object(h.jsx)("div",{className:"TodoList__list-container",children:Object(h.jsx)("ul",{className:"TodoList__list","data-cy":"listOfTodos",children:t.map((function(e){return Object(h.jsxs)("li",{className:b()("TodoList__item",{"TodoList__item--unchecked":!e.completed},{"TodoList__item--checked":e.completed}),children:[Object(h.jsxs)("label",{children:[e.completed?Object(h.jsx)("input",{type:"checkbox",checked:!0,readOnly:!0}):Object(h.jsx)("input",{type:"checkbox",readOnly:!0}),Object(h.jsx)("p",{children:e.title})]}),Object(h.jsxs)("button",{className:b()("TodoList__user-button","button",{"TodoList__user-button--selected":s!==e.userId}),"data-cy":"userButton",type:"button",onClick:function(){c(e.userId)},children:["User\xa0#",e.userId]})]},e.id)}))})})]})})),O=(c(20),"https://mate.academy/students-api"),m=function(e){return fetch("".concat(O,"/users/").concat(e)).then((function(e){return e.json()}))},x=function(e){var t=e.userId,c=e.clearUser,s=Object(d.useState)(),n=Object(i.a)(s,2),r=n[0],o=n[1],u=Object(d.useCallback)(Object(a.a)(l.a.mark((function e(){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(t);case 3:(c=e.sent)&&o(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o(null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]);return Object(d.useEffect)((function(){u()}),[t]),r?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"CurrentUser",children:[Object(h.jsx)("h2",{className:"CurrentUser__title",children:Object(h.jsx)("span",{children:"Selected user: ".concat(r.id)})}),Object(h.jsx)("h3",{className:"CurrentUser__name","data-cy":"userName",children:r.name}),Object(h.jsx)("p",{className:"CurrentUser__email",children:r.email}),Object(h.jsx)("p",{className:"CurrentUser__phone",children:r.phone})]}),Object(h.jsx)("button",{className:" TodoList__user-button TodoList__user-button--selected button ",type:"button",onClick:function(){c(null)},children:"Clear"})]}):Object(h.jsx)("h1",{children:"something went horribly wrong"})},f=function(){var e=Object(d.useState)([]),t=Object(i.a)(e,2),c=t[0],s=t[1],n=Object(d.useState)(8),o=Object(i.a)(n,2),u=o[0],j=o[1],b=Object(d.useState)(""),m=Object(i.a)(b,2),f=m[0],_=m[1],v=Object(d.useState)("all"),N=Object(i.a)(v,2),y=N[0],k=N[1],C=Object(d.useCallback)(Object(a.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(O,"/todos")).then((function(e){return e.json()}));case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)}))),[]);Object(d.useEffect)((function(){C()}),[]);var T=c.filter((function(e){return e.title.toUpperCase().includes(f.toUpperCase())})).filter((function(e){return"all"===y||("completed"===y?e.completed:!e.completed)}));return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("div",{className:"App__sidebar",children:[Object(h.jsx)("div",{className:"field has-addons mt-2",children:Object(h.jsx)("div",{className:"control",children:Object(h.jsx)("input",{"data-cy":"filterByTitle",type:"text",id:"search-query",className:"input is-link is-medium is-rounded",placeholder:"Type search word",onChange:function(e){_(e.target.value)}})})}),Object(h.jsx)("div",{className:"select is-rounded is-success is-light is-outlined",children:Object(h.jsxs)("select",{value:y,onChange:function(e){k(e.target.value)},children:[Object(h.jsx)("option",{value:"all",children:"ALL"},"all"),Object(h.jsx)("option",{value:"active",children:"Active"},"active"),Object(h.jsx)("option",{value:"completed",children:"Completed"},"completed")]})}),Object(h.jsx)("button",{className:"button is-success is-rounded",type:"button",onClick:function(){s((function(e){return Object(r.a)(e).sort((function(){return Math.random()-.5}))}))},children:"Randomize"}),Object(h.jsx)(p,{todos:T,setUser:j,selectedUserId:u})]}),Object(h.jsx)("div",{className:"App__content",children:Object(h.jsx)("div",{className:"App__content-container",children:u?Object(h.jsx)(x,{userId:u,clearUser:j}):Object(h.jsx)("h2",{children:"No user selected"})})})]})};n.a.render(Object(h.jsx)(f,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.b7e2e65a.chunk.js.map